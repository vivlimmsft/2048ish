{"version":3,"sources":["webpack://excalibur-webpack/./src/scenes/level-one/level-one.ts","webpack://excalibur-webpack/./src/resources.ts","webpack://excalibur-webpack/./src/actors/player/tile.ts","webpack://excalibur-webpack/./src/index.ts","webpack://excalibur-webpack/webpack/bootstrap","webpack://excalibur-webpack/webpack/runtime/global","webpack://excalibur-webpack/webpack/runtime/hasOwnProperty shorthand","webpack://excalibur-webpack/webpack/runtime/publicPath","webpack://excalibur-webpack/webpack/runtime/jsonp chunk loading","webpack://excalibur-webpack/webpack/startup"],"names":["onInitialize","engine","onActivate","onDeactivate","Scene","Resources","Sword","Texture","sword","Tile","tile","SpriteFont","game","value","x","y","pos","vec","width","height","color","Color","speed","mergeAlignmentDistance","tileValue","body","collider","type","CollisionType","label","Label","on","event","actor","hasOwnProperty","other","tileA","tileB","isMerged","Math","abs","mergedWith","mergeProgressCountdown","mergeOriginalPosition","clone","this","addDrawing","draw","delta","isKilled","update","kill","scale","dx","dy","newX","newY","setTo","input","keyboard","isHeld","Input","accelerate","text","toString","onPostUpdate","vel","drawWidth","drawHeight","Actor","displayMode","DisplayMode","suppressConsoleBootMessage","suppressPlayButton","pointerIsDown","start","tiles","levelOne","LevelOne","i","addTileOnGrid","font","image","alphabet","caseInsensitive","columns","rows","spWidth","spHeight","newTileTimer","Timer","fcn","console","log","interval","repeats","screen","resolution","add","evt","key","pointers","primary","lastKnownPointerPosition","worldPos","loader","Loader","Object","values","position","worldBounds","getWorldBounds","xTouchRegionWidth","yTouchRegionHeight","filter","length","random","canvasWidth","canvasHeight","pow","floor","push","Engine","then","goToScene","__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__","m","g","globalThis","Function","e","window","o","obj","prop","prototype","call","scriptUrl","importScripts","location","document","currentScript","src","scripts","getElementsByTagName","Error","replace","p","installedChunks","179","deferredModules","checkDeferredModules","webpackJsonpCallback","parentChunkLoadingFunction","data","chunkId","chunkIds","moreModules","runtime","executeModules","resolves","shift","apply","chunkLoadingGlobal","self","checkDeferredModulesImpl","result","deferredModule","fulfilled","j","depId","splice","s","forEach","bind","startup"],"mappings":"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","file":"main.js","sourcesContent":["import { Engine, Scene } from 'excalibur';\n\n/**\n * Managed scene\n */\nexport class LevelOne extends Scene {\n  public onInitialize(engine: Engine) {}\n  public onActivate() {}\n  public onDeactivate() {}\n}\n","import { Texture } from 'excalibur';\nimport sword from './images/sword.png';\nimport tile from './images/tile.png';\nimport spritefont from './images/SpriteFont.png';\n\n/**\n * Default global resource dictionary. This gets loaded immediately\n * and holds available assets for the game.\n */\nconst Resources = {\n    Sword: new Texture(sword),\n    Tile: new Texture(tile),\n    SpriteFont: new Texture(spritefont),\n}\n\nexport { Resources }\n","import { Actor, CollisionType, Color, Input, Label, vec, Vector } from 'excalibur';\nimport { Resources } from '../../resources';\nimport { Game } from '../../index';\n\nexport class Tile extends Actor {\n  private tileValue : number;\n  private speed : number = 20;\n  private mergeAlignmentDistance = 8;\n  private label : Label;\n  private isMerged : boolean;\n  private mergedWith : Tile | undefined;\n  private mergeProgressCountdown : number;\n  private mergeOriginalPosition : Vector;\n  constructor(game: Game, value: number, x: number, y: number) {\n    super({\n      pos: vec(x, y),\n      width: 32,\n      height: 32,\n      color: new Color(255, 255, 255)\n    });\n    this.tileValue = value;\n    this.body.collider.type = CollisionType.Active;\n\n    this.label = new Label(\"n\", x, y);\n\n    this.on('precollision', (event) => {\n      if (event.actor.hasOwnProperty('tileValue') && event.other.hasOwnProperty('tileValue')){\n        let tileA = event.actor as Tile;\n        let tileB = event.other as Tile;\n        if (tileA.tileValue == tileB.tileValue){\n          // these tiles have the same value, and are candidates for merging.\n\n          if (tileA.isMerged || tileB.isMerged){\n            // don't merge them-- one or both of them are already merged with another tile.\n            return;\n          }\n\n          if (Math.abs(tileA.pos.x - tileB.pos.x) < this.mergeAlignmentDistance || Math.abs(tileA.pos.y - tileB.pos.y) < this.mergeAlignmentDistance)\n          {\n            tileA.tileValue += tileB.tileValue;\n            tileB.tileValue = tileA.tileValue;\n            //tileB.kill();\n            tileB.body.collider.type = CollisionType.PreventCollision;\n            tileB.isMerged = true;\n            tileB.mergedWith = tileA;\n            tileB.mergeProgressCountdown = 100;\n            tileB.mergeOriginalPosition = tileB.pos.clone();\n          }\n        }\n      }\n    })\n  }\n\n\n  onInitialize() {\n    this.addDrawing(Resources.Tile);\n  }\n\n  public draw(engine, delta){\n    if (this.isKilled()){\n      return;\n    }\n    super.draw(engine, delta);\n    this.label.draw(engine, delta);\n  }\n\n\n  public update(engine, delta) {\n    if (this.isKilled()){\n      return;\n    }\n\n    if (this.isMerged){ // special behavior for merging tiles-- ignore keyboard input, move toward the center of the merge target and disappear when arriving there\n      if (this.mergeProgressCountdown <= 0){\n        this.kill(); // merge is complete, remove the tile.\n        return;\n      }\n\n      const scale = this.mergeProgressCountdown / 100.0;\n      this.mergeProgressCountdown -= 10;\n      let dx = (this.mergeOriginalPosition.x - this.mergedWith.pos.x) * scale;\n      let dy = (this.mergeOriginalPosition.y - this.mergedWith.pos.y) * scale;\n      let newX = this.mergedWith.pos.x + dx;\n      let newY = this.mergedWith.pos.y + dy;\n      this.pos.setTo(newX, newY);\n    }\n    else {\n      if (\n        engine.input.keyboard.isHeld(Input.Keys.W) ||\n        engine.input.keyboard.isHeld(Input.Keys.Up)\n      ) {\n        this.accelerate(0, -1);\n      }\n      if (\n        engine.input.keyboard.isHeld(Input.Keys.S) ||\n        engine.input.keyboard.isHeld(Input.Keys.Down)\n      ) {\n        this.accelerate(0, 1);\n      }\n      if (\n        engine.input.keyboard.isHeld(Input.Keys.A) ||\n        engine.input.keyboard.isHeld(Input.Keys.Left)\n      ) {\n        this.accelerate(-1, 0);\n      }\n\n      if (\n        engine.input.keyboard.isHeld(Input.Keys.D) ||\n        engine.input.keyboard.isHeld(Input.Keys.Right)\n      ) {\n        this.accelerate(1, 0);\n      }\n    }\n\n    this.label.pos.x = this.pos.x - 4;\n    this.label.pos.y = this.pos.y + 4;\n    this.label.text = this.tileValue.toString();\n    super.update(engine, delta);\n  }\n\n  public onPostUpdate(engine, delta){\n    if (this.pos.x < this.width / 2){\n      this.vel.x = 0;\n      this.pos.x = this.width / 2;\n    }\n\n    if (this.pos.x + this.width / 2 > engine.drawWidth){\n      this.vel.x = 0;\n      this.pos.x = engine.drawWidth - this.width / 2\n    }\n\n    if (this.pos.y < this.height / 2){\n      this.vel.y = 0;\n      this.pos.y = this.height / 2;\n    }\n\n    if (this.pos.y + this.height / 2 > engine.drawHeight){\n      this.vel.y = 0;\n      \n      this.pos.y = engine.drawHeight - this.height / 2\n    }\n    super.onPostUpdate(engine, delta);\n  }\n\n  public accelerate(x: number, y: number){\n    this.vel.setTo(this.vel.x + (this.speed * x), this.vel.y + (this.speed * y));\n  }\n}\n","import { Engine, Loader, DisplayMode, Vector, Input, SpriteFont, Timer } from 'excalibur';\nimport { LevelOne } from './scenes/level-one/level-one';\nimport { Player } from './actors/player/player';\nimport { Tile } from './actors/player/tile';\nimport { Resources } from './resources';\n\n/**\n * Managed game class\n */\nexport class Game extends Engine {\n  private levelOne: LevelOne;\n  private tiles: Tile[];\n  public font: SpriteFont;\n  public newTileTimer: Timer;\n\n  private pointerIsDown: boolean = false;\n  private lastKnownPointerPosition: Vector;\n\n  constructor() {\n    super({ displayMode: DisplayMode.FullScreen, width: 128, height: 128, suppressConsoleBootMessage: true, suppressPlayButton: true });\n  }\n\n  public start() {\n\n    this.tiles = [];\n    // Create new scene with a player\n    this.levelOne = new LevelOne(this);\n\n    for (let i = 0; i < 9; i++){\n      this.addTileOnGrid();\n    }\n\n    this.font = new SpriteFont({\n      image: Resources.SpriteFont,\n      alphabet: '0123456789abcdefghijklmnopqrstuvwxyz,!\\'&.\"?- ',\n      caseInsensitive: true,\n      columns: 16,\n      rows: 3,\n      spWidth: 16,\n      spHeight: 16\n    });\n\n    this.newTileTimer = new Timer({fcn: () => {\n      console.log(\"new tile\");\n      this.addTileOnGrid();\n    },\n    interval: 1000, repeats: true});\n\n    this.screen.resolution = {width: 256, height: 256};\n    this.levelOne.add(this.newTileTimer);\n    this.add('levelOne', this.levelOne);\n\n    this.input.keyboard.on('release', (evt) => {\n      if (evt.key == Input.Keys.Space) {\n        this.addTileOnGrid();\n      }\n    });\n\n    this.input.pointers.primary.on('down', (evt) => {\n      this.pointerIsDown = true;\n      this.lastKnownPointerPosition = evt.worldPos;\n    });\n\n    this.input.pointers.primary.on('up', (evt) => {\n      this.pointerIsDown = false;\n    });\n\n    // Automatically load all default resources\n    const loader = new Loader(Object.values(Resources));\n\n    return super.start(loader);\n  }\n\n  public onPostUpdate(engine, delta){\n    // If the pointer is holding down on an edge of the screen, accelerate tiles in that direction.\n\n    if (this.pointerIsDown){\n      let position = this.lastKnownPointerPosition;\n      let worldBounds = this.getWorldBounds();\n      let xTouchRegionWidth = worldBounds.width / 3;\n      let yTouchRegionHeight = worldBounds.height / 3;\n\n      let dx = 0;\n      let dy = 0;\n\n      if (position.x > xTouchRegionWidth * 2){\n        // touching right side of screen\n        dx = 1;\n      }\n      else if (position.x < xTouchRegionWidth){\n        // touching left side of screen\n        dx = -1;\n      }\n\n      if (position.y > yTouchRegionHeight * 2){\n        // touching bottom of screen\n        dy = 1;\n      }\n      else if (position.y < yTouchRegionHeight){\n        dy = -1;\n      }\n      if (dx != 0 || dy != 0){\n        for (let tile of this.tiles.filter(tile => !tile.isKilled())){\n          tile.accelerate(dx, dy);\n        }\n      }\n    }\n\n  }\n\n  private addTileOnGrid(){\n    if (this.tiles.filter(tile => !tile.isKilled()).length > 64) {\n      return; // max number of active tiles tiles\n    }\n    let x = Math.random() * this.canvasWidth;\n    let y = Math.random() * this.canvasHeight;\n    let value = Math.pow(2, Math.floor(Math.random() * 3));\n    const tile = new Tile(game, value, x, y);\n    this.levelOne.add(tile);\n    this.tiles.push(tile);\n  }\n}\nconst game = new Game();\ngame.start().then(() => {\n  game.goToScene('levelOne');\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n// It's empty as some runtime module handles the default behavior\n__webpack_require__.x = x => {};\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// Promise = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\nvar deferredModules = [\n\t[995,325]\n];\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\nvar checkDeferredModules = x => {};\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime, executeModules] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0, resolves = [];\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tresolves.push(installedChunks[chunkId][0]);\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\twhile(resolves.length) {\n\t\tresolves.shift()();\n\t}\n\n\t// add entry modules from loaded chunk to deferred list\n\tif(executeModules) deferredModules.push.apply(deferredModules, executeModules);\n\n\t// run deferred modules when all chunks ready\n\treturn checkDeferredModules();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkexcalibur_webpack\"] = self[\"webpackChunkexcalibur_webpack\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n\nfunction checkDeferredModulesImpl() {\n\tvar result;\n\tfor(var i = 0; i < deferredModules.length; i++) {\n\t\tvar deferredModule = deferredModules[i];\n\t\tvar fulfilled = true;\n\t\tfor(var j = 1; j < deferredModule.length; j++) {\n\t\t\tvar depId = deferredModule[j];\n\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferredModules.splice(i--, 1);\n\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n\t\t}\n\t}\n\tif(deferredModules.length === 0) {\n\t\t__webpack_require__.x();\n\t\t__webpack_require__.x = x => {};\n\t}\n\treturn result;\n}\nvar startup = __webpack_require__.x;\n__webpack_require__.x = () => {\n\t// reset startup function so it can be called again when more startup code is added\n\t__webpack_require__.x = startup || (x => {});\n\treturn (checkDeferredModules = checkDeferredModulesImpl)();\n};","// run startup\n__webpack_require__.x();\n"],"sourceRoot":""}