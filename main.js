(()=>{"use strict";var t={995:(t,e,o)=>{var i,n=o(325),r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onInitialize=function(t){},e.prototype.onActivate=function(){},e.prototype.onDeactivate=function(){},e}(n.Scene),p=o(253),a=o(86),l=o(455),c={Sword:new n.Texture(p),Tile:new n.Texture(a),SpriteFont:new n.Texture(l)},h=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),u=function(t){function e(e,o,i,r){var s=t.call(this,{pos:(0,n.vec)(i,r),width:32,height:32,color:new n.Color(255,255,255)})||this;return s.speed=20,s.tileValue=o,s.body.collider.type=n.CollisionType.Active,s.label=new n.Label("n",i,r),s.on("precollision",(function(t){if(t.actor.hasOwnProperty("tileValue")&&t.other.hasOwnProperty("tileValue")){var e=t.actor,o=t.other;console.log("tiles colliding"),e.tileValue==o.tileValue&&(e.tileValue+=o.tileValue,o.kill(),console.log("same value; removing one tile"))}})),s}return h(e,t),e.prototype.onInitialize=function(){this.addDrawing(c.Tile)},e.prototype.draw=function(e,o){t.prototype.draw.call(this,e,o),this.label.draw(e,o)},e.prototype.update=function(e,o){(e.input.keyboard.isHeld(n.Input.Keys.W)||e.input.keyboard.isHeld(n.Input.Keys.Up))&&this.accelerate(0,-1*this.speed),(e.input.keyboard.isHeld(n.Input.Keys.S)||e.input.keyboard.isHeld(n.Input.Keys.Down))&&this.accelerate(0,1*this.speed),(e.input.keyboard.isHeld(n.Input.Keys.A)||e.input.keyboard.isHeld(n.Input.Keys.Left))&&this.accelerate(-1*this.speed,0),(e.input.keyboard.isHeld(n.Input.Keys.D)||e.input.keyboard.isHeld(n.Input.Keys.Right))&&this.accelerate(this.speed,0),t.prototype.update.call(this,e,o)},e.prototype.onPostUpdate=function(e,o){this.pos.x<this.width/2&&(this.vel.x=0,this.pos.x=this.width/2),this.pos.x+this.width/2>e.drawWidth&&(this.vel.x=0,this.pos.x=e.drawWidth-this.width/2),this.pos.y<this.height/2&&(this.vel.y=0,this.pos.y=this.height/2),this.pos.y+this.height/2>e.drawHeight&&(this.vel.y=0,this.pos.y=e.drawHeight-this.height/2),t.prototype.onPostUpdate.call(this,e,o),this.label.pos.x=this.pos.x,this.label.pos.y=this.pos.y,this.label.text=this.tileValue.toString()},e.prototype.accelerate=function(t,e){this.vel.setTo(this.vel.x+t,this.vel.y+e)},e}(n.Actor),d=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),y=new(function(t){function e(){return t.call(this,{displayMode:n.DisplayMode.FullScreen})||this}return d(e,t),e.prototype.start=function(){var e=this;this.tiles=[],this.levelOne=new s(this);for(var o=0;o<4;o++)this.addTileOnGrid();this.font=new n.SpriteFont({image:c.SpriteFont,alphabet:"0123456789abcdefghijklmnopqrstuvwxyz,!'&.\"?- ",caseInsensitive:!0,columns:16,rows:3,spWidth:16,spHeight:16}),this.newTileTimer=new n.Timer({fcn:function(){console.log("new tile")},interval:5,repeats:!0}),this.screen.resolution={width:256,height:256},this.add("levelOne",this.levelOne),this.add(this.newTileTimer),this.input.keyboard.on("release",(function(t){t.key==n.Input.Keys.Space&&e.addTileOnGrid()}));var i=new n.Loader(Object.values(c));return t.prototype.start.call(this,i)},e.prototype.addTileOnGrid=function(){var t=Math.random()*this.canvasWidth,e=Math.random()*this.canvasHeight,o=Math.pow(2,Math.floor(3*Math.random())),i=new u(y,o,t,e);this.levelOne.add(i),this.tiles.push(i)},e}(n.Engine));y.start().then((function(){y.goToScene("levelOne")}))},455:(t,e,o)=>{t.exports=o.p+"da6089e93350f5ada412.png"},253:(t,e,o)=>{t.exports=o.p+"0377c07b4b240a97b8a9.png"},86:(t,e,o)=>{t.exports=o.p+"76295a5b2c3a7623a2d5.png"}},e={};function o(i){if(e[i])return e[i].exports;var n=e[i]={exports:{}};return t[i](n,n.exports,o),n.exports}o.m=t,o.x=t=>{},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),(()=>{var t={179:0},e=[[995,325]],i=t=>{},n=(n,r)=>{for(var s,p,[a,l,c,h]=r,u=0,d=[];u<a.length;u++)p=a[u],o.o(t,p)&&t[p]&&d.push(t[p][0]),t[p]=0;for(s in l)o.o(l,s)&&(o.m[s]=l[s]);for(c&&c(o),n&&n(r);d.length;)d.shift()();return h&&e.push.apply(e,h),i()},r=self.webpackChunkexcalibur_webpack=self.webpackChunkexcalibur_webpack||[];function s(){for(var i,n=0;n<e.length;n++){for(var r=e[n],s=!0,p=1;p<r.length;p++){var a=r[p];0!==t[a]&&(s=!1)}s&&(e.splice(n--,1),i=o(o.s=r[0]))}return 0===e.length&&(o.x(),o.x=t=>{}),i}r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r));var p=o.x;o.x=()=>(o.x=p||(t=>{}),(i=s)())})(),o.x()})();
//# sourceMappingURL=main.js.map